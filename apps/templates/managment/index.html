{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

{#    <div class="row">#}
{#      <div class="col-lg-3 col-md-6 col-sm-6">#}
{#        <div class="card card-stats">#}
{#          <div class="card-header card-header-warning card-header-icon">#}
{#            <div class="card-icon">#}
{#              <i class="material-icons">content_copy</i>#}
{#            </div>#}
{#            <p class="card-category">Used Space</p>#}
{#            <h3 class="card-title">49/50#}
{#              <small>GB</small>#}
{#            </h3>#}
{#          </div>#}
{#          <div class="card-footer">#}
{#            <div class="stats">#}
{#              <i class="material-icons text-danger">warning</i>#}
{#              <a href="#pablo">Get More Space...</a>#}
{#            </div>#}
{#          </div>#}
{#        </div>#}
{#      </div>#}
{#      <div class="col-lg-3 col-md-6 col-sm-6">#}
{#        <div class="card card-stats">#}
{#          <div class="card-header card-header-success card-header-icon">#}
{#            <div class="card-icon">#}
{#              <i class="material-icons">store</i>#}
{#            </div>#}
{#            <p class="card-category">Revenue</p>#}
{#            <h3 class="card-title">$34,245</h3>#}
{#          </div>#}
{#          <div class="card-footer">#}
{#            <div class="stats">#}
{#              <i class="material-icons">date_range</i> Last 24 Hours#}
{#            </div>#}
{#          </div>#}
{#        </div>#}
{#      </div>#}
{#      <div class="col-lg-3 col-md-6 col-sm-6">#}
{#        <div class="card card-stats">#}
{#          <div class="card-header card-header-danger card-header-icon">#}
{#            <div class="card-icon">#}
{#              <i class="material-icons">info_outline</i>#}
{#            </div>#}
{#            <p class="card-category">Fixed Issues</p>#}
{#            <h3 class="card-title">75</h3>#}
{#          </div>#}
{#          <div class="card-footer">#}
{#            <div class="stats">#}
{#              <i class="material-icons">local_offer</i> Tracked from Github#}
{#            </div>#}
{#          </div>#}
{#        </div>#}
{#      </div>#}
{#      <div class="col-lg-3 col-md-6 col-sm-6">#}
{#        <div class="card card-stats">#}
{#          <div class="card-header card-header-info card-header-icon">#}
{#            <div class="card-icon">#}
{#              <i class="fa fa-twitter"></i>#}
{#            </div>#}
{#            <p class="card-category">Followers</p>#}
{#            <h3 class="card-title">+245</h3>#}
{#          </div>#}
{#          <div class="card-footer">#}
{#            <div class="stats">#}
{#              <i class="material-icons">update</i> Just Updated#}
{#            </div>#}
{#          </div>#}
{#        </div>#}
{#      </div>#}
{#    </div>#}
{#    <div class="row">#}
{#      <div class="col-md-4">#}
{#        <div class="card card-chart">#}
{#          <div class="card-header card-header-success">#}
{#            <div class="ct-chart" id="dailySalesChart"></div>#}
{#          </div>#}
{#          <div class="card-body">#}
{#            <h4 class="card-title">Daily Sales</h4>#}
{#            <p class="card-category">#}
{#              <span class="text-success"><i class="fa fa-long-arrow-up"></i> 55% </span> increase in today sales.</p>#}
{#          </div>#}
{#          <div class="card-footer">#}
{#            <div class="stats">#}
{#              <i class="material-icons">access_time</i> updated 4 minutes ago#}
{#            </div>#}
{#          </div>#}
{#        </div>#}
{#      </div>#}
{#      <div class="col-md-4">#}
{#        <div class="card card-chart">#}
{#          <div class="card-header card-header-warning">#}
{#            <div class="ct-chart" id="websiteViewsChart"></div>#}
{#          </div>#}
{#          <div class="card-body">#}
{#            <h4 class="card-title">Email Subscriptions</h4>#}
{#            <p class="card-category">Last Campaign Performance</p>#}
{#          </div>#}
{#          <div class="card-footer">#}
{#            <div class="stats">#}
{#              <i class="material-icons">access_time</i> campaign sent 2 days ago#}
{#            </div>#}
{#          </div>#}
{#        </div>#}
{#      </div>#}
{#      <div class="col-md-4">#}
{#        <div class="card card-chart">#}
{#          <div class="card-header card-header-danger">#}
{#            <div class="ct-chart" id="completedTasksChart"></div>#}
{#          </div>#}
{#          <div class="card-body">#}
{#            <h4 class="card-title">Completed Tasks</h4>#}
{#            <p class="card-category">Last Campaign Performance</p>#}
{#          </div>#}
{#          <div class="card-footer">#}
{#            <div class="stats">#}
{#              <i class="material-icons">access_time</i> campaign sent 2 days ago#}
{#            </div>#}
{#          </div>#}
{#        </div>#}
{#      </div>#}
{#    </div>#}
    <div class="row">
      <div class="col-lg-6 col-md-12">
        <div class="card card-stats">
          <div class="card-header card-header-warning">
            <h4 class="card-title">Warehouses</h4>
{#            <p class="card-category">New employees on 15th September, 2016</p>#}
          </div>
          <div class="card-body table-responsive">
            <table class="table table-hover">
                <thead class="text-warning">
                    <th>Name</th>
                    <th>Type</th>
                    <th>Location</th>
                    <th>Owner</th>
                </thead>
                <tbody>
                    {% for warehouse in warehouses %}
                    <tr onclick="window.location.href='{% url 'warehouse_detail' warehouse.slug %}'">
                        <td>{{ warehouse.name }}</td>
                        <td>{{ warehouse.type }}</td>
                        <td>{{ warehouse.location }}</td>
                        <td>{{ warehouse.ownership.username }}</td>
                        <td>
                            {% if warehouse.users.all %}
                                {% for user in warehouse.users.all|slice:":3" %}
                                    {{ user.username }}{% if not forloop.last %}, {% endif %}
                                {% endfor %}
                                {% if warehouse.users.all|length > 3 %}...{% endif %}
                            {% else %}
                                None
                            {% endif %}
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="9" class="text-center">No warehouses available.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
          </div>
        </div>
      </div>

        {% if user.is_superuser or is_owner %}
      <div class="col-lg-6 col-md-12">
        <div class="card">
          <div class="card-header card-header-warning">
            <h4 class="card-title">Employees Stats</h4>
{#            <p class="card-category">New employees on 15th September, 2016</p>#}
          </div>
          <div class="card-body table-responsive">
            <table class="table table-hover">
                <thead class="text-warning">
                    <th>Name</th>
                    <th>Last Login</th>
                    <th>warehouses</th>

                </thead>
                <tbody>
                    {% for user in users %}
                    <tr>
                        <td>{{ user.username }}</td>
                        <td>{{ user.last_login }}</td>
                        <td>{{ user.acess }}</td>

                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="9" class="text-center">No warehouses available.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
          </div>
        </div>
      </div>
    {% endif %}
    </div>
    <div class="row">


        {% if user.is_superuser or is_owner %}
      <div class="col-lg-6 col-md-12">
        <div class="card">
          <div class="card-header card-header-warning">
            <h4 class="card-title">Customer Stats</h4>
{#            <p class="card-category">New employees on 15th September, 2016</p>#}
          </div>
          <div class="card-body table-responsive">
            <table class="table table-hover">
                <thead class="text-warning">
                    <th>Name</th>
                    <th>Last Login</th>
                    <th>warehouses</th>

                </thead>
                <tbody>
                    {% for cutomer in cutomers %}
                    <tr>
                        <td>{{ cutomer.username }}</td>
                        <td>{{ cutomer.last_login }}</td>
                        <td>{{ cutomer.acess }}</td>

                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="9" class="text-center">No Customers available.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
          </div>
        </div>
      </div>
    {% endif %}
    </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

  <script>
    $(document).ready(function() {
      // Javascript method's body can be found in assets/js/demos.js
      md.initDashboardPageCharts();

    });
  </script>

{% endblock javascripts %}
